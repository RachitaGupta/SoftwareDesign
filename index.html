<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="ISO-8859-1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="css/bootstrap.min.css"/>
		<link rel="stylesheet" href="css/style.css"/>
		<link rel="stylesheet" href="css/icons.css"/>
		
		<script src="js/library/angular.js" type="text/javascript"></script>
		<script src="js/library/jquery.min.js" type="text/javascript"></script>
		<script src="js/library/ui-bootstrap.min.js" type="text/javascript"></script>
		<script src="js/library/bootstrap.min.js"></script>
		<script src="js/library/three-min.js"></script>
		<script src="js/library/Projector.js"></script>
		<script src="js/library/CanvasRenderer.js"></script>
		<title>Project Shapes</title>
	</head>
	<body ng-app="cubeApp" ng-controller="CubeAppController">
		<nav class="navbar navbar-default navbar-static-top">
			<div class="container-fluid">
				<div class="navbar-header">
					<a class="navbar-brand" href="#">Group 4</a>
				</div>
				<div class="collapse navbar-collapse">
					<p class="navbar-text navbar-right center-block">Project Shapes</p>
				</div>
			</div>
		</nav>
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-2">
					<div class="list-group" >
						<a class="list-group-item text-center active"> Shapes</a>
						<button type="button" class="list-group-item" ng-model="shape" ng-click="updateShape('cube') && cubeMainForm.$valid && submit()"><i class="sprite-cube"></i>  Cube</button>
						<div class = "dropdown">
							<button type="button" class="list-group-item" data-remote="true" href="#pyramid-child" id="pyramid" data-toggle="collapse" data-parent="#pyramid-child"  ng-model="shape">
							<i class="sprite-pyramid"></i> Pyramid  <b class="caret pull-bottom pull-right" style="margin-top: 10px"></b></button>
							<div class="collapse list-group-submenu" id="pyramid-child">
								<button class="list-group-item sub-item" ng-model="shape" ng-click="updateShape('rectangular-pyramid') && cubeMainForm.$valid && submit()" data-parent="#pyramid-child" style="padding-left: 25px;"> > Rectangular Pyramid</button>
								<button class="list-group-item sub-item" ng-model="shape"  ng-click="updateShape('triangular-pyramid') && cubeMainForm.$valid && submit()" data-parent="#pyramid-child" style="padding-left: 25px;"> > Triangular Pyramid</button>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-6">
					<div class="row">
						<div class="col-md-12" style="text-align: center; margin-bottom: 10px;">
							<span style="font-weight: bold; font-size: 15px; text-transform: capitalize">{{shape}}</span>
						</div>
					</div>
					<div class="row">
						<div class="col-md-offset-2">
							<div>
								<form class="form-horizontal">
									<div class="row">
										<div class="col-md-12">
											<div class="formtab tab">
												<div class="tab-row">
													<div class="left">
														<div class="form-group">
															<label for="size" class="control-label col-sm-3">Length</label>
															<div class="col-sm-9">
																<input type="number" class="form-control" ng-model="size" id="length" placeholder="Length" min="1"/>
															</div>
														</div>
													</div>
													<div class="left">
														<div class="form-group">
															<label for="width" class="control-label col-sm-3">Width</label>
															<div class="col-sm-6">
																<input type="number" class="form-control" ng-model="width" id="width" placeholder="Width" min="1"/>
															</div>
														</div>
													</div>
													<div class="left">
														<div class="form-group">
															<label for="height" class="control-label col-sm-3">Height</label>
															<div class="col-sm-6">
																<input type="number" class="form-control" ng-model="height" id="height" placeholder="Height" min="1"/>
															</div>
														</div>
													</div>
												</div>
												<div class="tab-row">
													<div class="left">
														<div class="form-group">
															<label for="usa" class="col-sm-4 control-label">American Units</label>
															<div class=" btn-group usa col-sm-8" role="group" id="usa">
																<button type="button" class="btn btn-default" ng-model="metric" ng-click="updateMetric('in') && cubeMainForm.$valid && submit()" required>in</button>
																<button type="button" class="btn btn-default" ng-model="metric" ng-click="updateMetric('yrd') && cubeMainForm.$valid && submit()" required>yrd</button>
															</div>
														</div>
													</div>
													<div class="left">
														<div class="form-group">
															<label class="col-sm-3 control-label">Metric Units</label>
															<div class="btn-group metric col-sm-8" role="group">
																<button type="button" class="btn btn-default" ng-model="metric" ng-click="updateMetric('cm') && cubeMainForm.$valid && submit()" required>cm</button>
																<button type="button" class="btn btn-default" ng-model="metric" ng-click="updateMetric('m') && cubeMainForm.$valid && submit()" required>m</button>
															</div>
														</div>
													</div>
													<div class="left">
														<div class="form-group">
														<span>Metric unit selected: <em style="font-weight: bold">{{metric || "None"}}</em></span>
														</div>
													</div>
												</div>
												<div class="tab-row">
													<div class="left">
														<div class="form-group">
															<label for="Type" class="col-sm-3 control-label">Type</label>
															<div class="dropdown col-sm-8">
																<button class="btn btn-default dropdown-toggle" type="button" id="menu1" data-toggle="dropdown">{{selectedAssembly}}
																<span class="caret"></span></button>
																<ul  class="dropdown-menu" role="menu" aria-labelledby="menu1">
																	<li ng-repeat = "assembly in assemblyTypes" role="presentation">
																		<a ng-click="assemblyTypeSelected(assembly)">{{assembly}}</a>
																	</li>
																</ul>
															</div>
														</div>
													</div>
												</div>
												<div class="tab-row">
													<div class="left">
														<div class="form-group">
															<div class="col-sm-offset-2 col-sm-10">
																<button type="submit" ng-disabled="!(size && width && height && metric)" ng-click="submit()" class="btn btn-primary">Calculate</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>
				
				<!-- NOTE:
					This entire section a.k.a div with id "display_template" must be dynamically replicated
					using JS based on the number of shapes of a particular type being rendered (pyramid with a square and triangle base in this case)
				-->
				<div class="col-md-4">
					<div class="row">
						<div class="col-md-12">
							<div class="alerts hidden"></div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12" style="text-align: center">
							<span>PREVIEW</span>
						</div>
					</div>
					<div class="row">
						<div class="col-md-4">
							<div class="row">
								<div class="col-md-12">
									<div class="thumbnail">
										<img src="{{img1}}" alt="Top View" style="height:100px; width:100px;" />
										<div class="caption" style="text-align: center">
											<h4>Top View</h4>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="row">
								<div class="col-md-12">
									<div class="thumbnail">
										<img src="{{img2}}" alt="Pillar Placement" style="height:100px; width:100px;"/>
										<div class="caption" style="text-align: center">
											<h4>Pillar Placement</h4>
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-md-4">
							<div class="row">
								<div class="col-md-12">
									<div class="thumbnail">
										<img src="{{img3}}" alt="Final Product" style="height:100px; width:100px;"/>
										<div class="caption" style="text-align: center">
											<h4>Final Product</h4>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row" id="display_template">
				<div class="col-md-4">
					<canvas width="100" height="100" style="width: 100px; height: 100px;"></canvas>
					<div id="renderCube" class="hidden"></div>
					<p class="disclaimer hidden"> *image not scaled to match input </p>
					<div class="thumbnail hidden">
						<div class="tab">
							<h3>Shape Details</h3>
							<div class="tab-row">
								<div class="left">Length entered</div> <div class="right"><em>{{size}}</em></div>
							</div>
							<div class="tab-row">
								<div class="left">Maximum base length</div> <div class="right"><em>{{length}}&nbsp;{{metric}}</em></div>
							</div>
							<div class="tab-row">
								<div class="left">Volume of the {{shape}}</div><div class="right"><em>{{volume}}&nbsp;{{metric}}<sup>3</sup></em></div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-md-8">
					<div class="thumbnail hidden" style="padding: 10px;">
						<div style="text-align:center"><h3>Assembly Instructions</h3></div>
						<div ng-include="template.url"></div>
					</div>
				</div>
			</div>
		</div>
		<script src="js/cubeController.js"></script>
		<script src="js/threeJS.js" type="text/javascript"></script>
	</body>
</html>